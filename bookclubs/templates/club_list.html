{% extends 'base_content.html' %}
{% block content %}
<br>

<div class="container">
  <h1>Clubs</h1>
  <br>
    <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">{{meeting_status}}
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      <input class="form-control" id="myInput" type="text" placeholder="Search..">
      <li><a href="{% url 'club_list' 'In person' %}">In person</a></li>
      <li><a href="{% url 'club_list' 'Online' %}">Online</a></li>
  </div>
</div>
    <div class="container">
        <div class="col-xs-12 col-lg-6 col-xl-8">
        {%if club_exists %}
            {% if clubs %}
                {% for club in clubs %}
                    <div>
                        <tr>
                            <td><h2>{{ club.club_name }}</h2></td>
                            <p>{{ club.description }}</p>
                            <p>Total members: {{ club.club_members.count }}</p>
                            <td><a href='{% url 'create_application' club.club_name %}' class="btn btn-outline-success">
                                Apply
                            </a>
                            </td>
                        </tr>
                        <hr>
                    </div>
                {% endfor %}
            {% else %}
                <p>You are currently a member of all the clubs in the system!</p>
                <a href='{% url 'my_clubs' %}' class="btn btn-outline-success">
                    See my clubs
                </a>
            {% endif %}
        {% else %}
            <p>There is no clubs now!</p>
            <a href='{% url 'create_club' %}' class="btn btn-outline-success">
                Create your club
            </a>
        {% endif %}
        </div>
    </div>
    <script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $(".dropdown-menu li").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
    </script>
{% endblock %}
